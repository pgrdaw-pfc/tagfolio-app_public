# Use an in-memory H2 database for tests
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Create and drop the schema on each test run
spring.jpa.hibernate.ddl-auto=create-drop

# Defer data.sql execution until after Hibernate has created the schema
spring.jpa.defer-datasource-initialization=true

# File Storage Configuration (use temporary directories for tests)
storage.originals-path=build/tmp/storage/originals
storage.thumbnails-path=build/tmp/storage/thumbnails
file.storage-deleted-path=build/tmp/storage/deleted

# Disable Thymeleaf caching for tests
spring.thymeleaf.cache=false

# Image processing limits for tests
image.max-dimension=1024
image.max-file-size-kb=1024
image.batch-size=5

# ExifTool metadata display keys (comma-separated list of ExifTool field names to display in UI)
image.exiftool.display-metadata-keys={\
  'Filename':'System:FileName',\
  'Rating':'XMP-xmp:Rating',\
  'Created':'ExifIFD:DateTimeOriginal,ExifIFD:CreateDate,IPTC:DateCreated,XMP-xmp:CreateDate,Composite:DateTimeCreated',\
  'Modified':'IFD0:ModifyDate,XMP-xmp:ModifyDate',\
  'Imported':'System:FileModifyDate',\
  'Titulo':'XMP-tf-Titulo,IPTC-ObjectName,XMP-dc:Title,IFD0-XPTitle,System-FileName',\
  'Nombre':'XMP-tf-Nombre,System:FileName,XMP-tf-Titulo',\
  'Descripcion':'XMP-tf-Descripcion,IPTC-Caption-Abstract,XMP-dc:Description,IFD0-ImageDescription,IFD0-XPComment',\
  'Referencia':'XMP-tf:Id,System-FileName,XMP-tf-Nombre,XMP-tf-Titulo',\
  'Web':'XMP-tf:Web',\
  'Notas':'XMP-tf:Notas',\
  'Datos0':'XMP-tf:Caracteristica0',\
  'Datos1':'XMP-tf:Caracteristica1',\
  'Datos2':'XMP-tf:Caracteristica2',\
  'Datos3':'XMP-tf:Caracteristica3',\
  'Datos4':'XMP-tf:Caracteristica4',\
  'Datos5':'XMP-tf:Caracteristica5',\
  'Datos6':'XMP-tf:Caracteristica6',\
  'Datos7':'XMP-tf:Caracteristica7',\
  'Datos8':'XMP-tf:Caracteristica8',\
  'Datos9':'XMP-tf:Caracteristica9',\
  'Tags':'XMP-tf:Tags,XMP-dc:Subject,IPTC:Keywords'\
  }

# ExifTool tag source keys (comma-separated list of ExifTool field names)
image.exiftool.tag-source-keys={\
  'Tags':'XMP-tf:Tags,XMP-dc:Subject,IPTC:Keywords'\
  }

# Sortable fields for the UI
app.sortable-fields={\
  'Filename':'System:FileName',\
  'Rating':'XMP-xmp:Rating',\
  'Created':'ExifIFD:DateTimeOriginal,ExifIFD:CreateDate,IPTC:DateCreated,XMP-xmp:CreateDate,Composite:DateTimeCreated',\
  'Modified':'IFD0:ModifyDate,XMP-xmp:ModifyDate',\
  'Imported':'System:FileModifyDate'\
  }

# Spring multipart limits
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=20MB

# Base URL for the application
app.base-url=http://localhost
